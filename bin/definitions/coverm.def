Bootstrap: docker
From: continuumio/miniconda3

%post
    # Update apt and install basic tools if needed
    apt-get update && apt-get install -y wget bzip2

    # Configure conda channels
    conda config --add channels defaults
    conda config --add channels bioconda
    conda config --add channels conda-forge

    # Install coverm (specify version if you want)
    conda install -y coverm

    # Clean up caches to reduce image size
    conda clean -afy
    apt-get clean
    rm -rf /var/lib/apt/lists/*

%environment
    # Ensure conda binaries are on the PATH
    export PATH="/opt/conda/bin:$PATH"

%runscript
    # Default command when running the container
    exec coverm "$@"
